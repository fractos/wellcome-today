<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>Wellcome Today</title>
    <style type="text/css">

    	.wrapper {
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            overflow: auto;
    	}
        
    	#osd {
            background-color: #fff;
            width:100%;
    		height:100%; 
    	}
    </style>
    <script src="openseadragon/openseadragon.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
</head>

<body>
    
<div class="wrapper">    
    
    <div id="osd" class="openseadragon"></div>

</div>

<script type="text/javascript">

    var collection = "http://wellcomelibrary.org/service/collections/recently-digitised/day/";
    var max = 24;
    var viewer;

    $.getJSON( collection, function( data ) {
        var thumbServices = [];
        $.each(data.manifests, function(i, m){
            if(m.thumbnail && max-- > 0){
                thumbServices.push(m.thumbnail.service["@id"] + "/info.json");    
            }
        });
        var cols = Math.ceil(Math.sqrt(thumbServices.length));
        viewer = OpenSeadragon({
            id:                 "osd",
            prefixUrl:          "openseadragon/images/",            
            collectionMode:     true,
            collectionColumns:  cols, 
            tileSources: thumbServices
        });    
        
    });
    
</script>

</body>
</html>
